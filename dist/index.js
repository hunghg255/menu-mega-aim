!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MenuAim=t():e.MenuAim=t()}(this,(function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var MOUSE_LOCS_TRACKED=3,DELAY=300,TOLERANCE=75,mouseLocs=[],timerId,lastDelayLoc,rowActive;function on(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,(function(t){o.call(e,t||window.event)}))}function off(e,t,o){e.removeEventListener?e.removeEventListener(t,o):e.detachEvent&&e.detachEvent("on"+t,o)}function offset(e){if(!e)return{left:0,top:0};var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}function outerWidth(e){var t=e.offsetWidth,o=e.currentStyle||getComputedStyle(e);return t+=parseInt(o.marginLeft,10)||0}function outerHeight(e){var t=e.offsetHeight,o=e.currentStyle||getComputedStyle(e);return t+=parseInt(o.marginLeft,10)||0}function handleMouseMoveDocument(e){mouseLocs.push({x:e.pageX,y:e.pageY}),mouseLocs.length>MOUSE_LOCS_TRACKED&&mouseLocs.shift()}function getActivateDelay(e){var t,o,r,n;if(!rowActive||null===(t=rowActive)||void 0===t||null===(o=t.evt)||void 0===o||null===(r=o.target)||void 0===r||!r.querySelector(null===(n=e)||void 0===n?void 0:n.classPopup))return 0;e=e||{};var i=document.querySelector(e.menuSelector);if(!i||!i.querySelector)return 0;var u=offset(i),c={x:u.left,y:u.top-(e.tolerance||TOLERANCE)},l={x:u.left+outerWidth(i),y:c.y},a={x:u.left,y:u.top+outerHeight(i)+(e.tolerance||TOLERANCE)},s={x:u.left+outerWidth(i),y:a.y},v=mouseLocs[mouseLocs.length-1],f=mouseLocs[0];if(!v)return 0;if(f||(f=v),f.x<u.left||f.x>s.x||f.y<u.top||f.y>s.y)return 0;if(lastDelayLoc&&v.x==lastDelayLoc.x&&v.y==lastDelayLoc.y)return 0;function d(e,t){return(t.y-e.y)/(t.x-e.x)}var m=l,p=s;"left"===e.submenuDirection?(m=a,p=c):"bottom"===e.submenuDirection?(m=s,p=a):"top"===e.submenuDirection&&(m=c,p=l);var y=d(v,m),_=d(v,p),A=d(f,m),b=d(f,p);return y<A&&_>b?(lastDelayLoc=v,e.delay||DELAY):(lastDelayLoc=null,0)}function activate(rowIdentifier,handler,config){var _rowIdentifier$evt,_rowActive2,_rowActive2$evt;if(eval(null==rowIdentifier||null===(_rowIdentifier$evt=rowIdentifier.evt)||void 0===_rowIdentifier$evt?void 0:_rowIdentifier$evt.target)!==eval(null===(_rowActive2=rowActive)||void 0===_rowActive2||null===(_rowActive2$evt=_rowActive2.evt)||void 0===_rowActive2$evt?void 0:_rowActive2$evt.target)){handler(rowIdentifier),rowActive=rowIdentifier;var subMenu=document.querySelector(config.classPopup);subMenu&&subMenu.classList.add(config.classPopupActive)}}function possiblyActivate(e,t,o){var r=getActivateDelay(o);r?timerId=setTimeout((function(){possiblyActivate(e,t,o)}),r):activate(e,t,o)}var MenuAim=function(e){var t=document.querySelector(e.menuSelector),o=t.querySelectorAll(e.classItem),r=function(t){var o,r,n,i,u,c,l;null===(o=rowActive)||void 0===o||null===(r=o.evt)||void 0===r||null===(n=r.target)||void 0===n||null===(i=n.classList)||void 0===i||i.remove(e.classItemActive),null==t||null===(u=t.evt)||void 0===u||null===(c=u.target)||void 0===c||null===(l=c.classList)||void 0===l||l.add(e.classItemActive)};o.forEach((function(t){on(t,"mouseenter",(function(o){return n={item:t,evt:o},i=r,timerId&&(clearTimeout(timerId),timerId=null),void possiblyActivate(n,i,e);var n,i}))})),on(document,"mousemove",handleMouseMoveDocument),on(t,"mouseleave",(function(){var t=document.querySelector(e.classPopup),o=document.querySelector("."+e.classItemActive);t&&t.classList.remove(e.classPopupActive),o&&o.classList.remove(e.classItemActive),lastDelayLoc=void 0,timerId&&clearTimeout(timerId),timerId=null}))};__webpack_exports__.default=MenuAim}]).default}));